<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Testing</title>
</head>

<body>
	<input id="email" type="email" placeholder="Email">
	<input id="phone" type="tel" placeholder="Phone">
	<input id="emailFieldPrimary" type="email" placeholder="Email or Phone">
	<input id="phoneFieldPrimary" type="hidden" placeholder="Email or Phone">
	<script>

		const switchInputs = (currentValue) => {
			const isNumber = !isNaN(currentValue)
			if (!isNumber) {
				phoneFieldPrimary.setAttribute('type', 'hidden')
				emailFieldPrimary.value = currentValue;
				emailFieldPrimary.setAttribute('type', 'email')
				emailFieldPrimary.focus()
			} else if (isNumber) {
				emailFieldPrimary.setAttribute('type', 'hidden')
				phoneFieldPrimary.value = currentValue;
				phoneFieldPrimary.setAttribute('type', 'tel')
				phoneFieldPrimary.focus()
			}
		}

		emailFieldPrimary.addEventListener("keyup", (event) => {
			const currentValue = event.target.value;
			// Default when empty input is email
			if (!currentValue) {
				return;
			}

			switchInputs(currentValue)
		});

		phoneFieldPrimary.addEventListener("keyup", (event) => {
			const currentValue = event.target.value;
			// Default to email field when empty input is email
			if (!currentValue) {
				phoneFieldPrimary.setAttribute('type', 'hidden')
				emailFieldPrimary.value = currentValue;
				emailFieldPrimary.setAttribute('type', 'email')
				emailFieldPrimary.focus()
			}

			switchInputs(currentValue)
		});
	</script>
</body>

</html>